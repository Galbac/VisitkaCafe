{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Еда без вреда - Ваш помощник в вопросах питания{% endblock %}</title>
    <meta name="description"
          content="{% block description %}Правдивая информация о продуктах питания поможет похудеть, набрать мышечную массу, укрепить здоровье{% endblock %}">
    <meta name="keywords"
          content="{% block keywords %}питание, продукты, калории, диета, здоровье, еда без вреда{% endblock %}">
    <!-- Подключение основных стилей -->
    <link href="{% static 'assets/css/header.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/footer.css' %}" rel="stylesheet">

    <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/index.css' %}" rel="stylesheet">
    <!-- Иконка на телефоне -->
    <link rel="icon" href="{% static 'assets/img/favicon.svg' %}" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'assets/img/apple-touch-icon.svg' %}">
    <!-- Название приложения -->
    <meta name="apple-mobile-web-app-title" content="Еда без вреда">
    <!-- Фон (например, цвет лого или бренда) -->
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <!-- Значения: default, black, black-translucent -->

    <!-- Режим полноэкранного приложения (без браузерной панели) -->
    <meta name="apple-mobile-web-app-capable" content="yes">


    <link rel="manifest" href="{% url 'manifest' %}">
    <meta name="theme-color" content="#2ecc71">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Еда без вреда">
    {% block extra_css %}{% endblock %}
</head>
<body>
{% include 'main/partials/header.html' %}
<main class="main-content">
    {% block content %}{% endblock %}
</main>
{% include 'main/partials/footer.html' %}
<button id="btnTop" title="Наверх">↑</button>
<!-- Подключение основных скриптов -->
<script src="{% static 'assets/js/main.js' %}"></script>
<script src="{% static 'assets/js/index.js' %}"></script>
<!-- Блок для дополнительных скриптов на отдельных страницах -->
{% block extra_js %}{% endblock %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const mobileToggle = document.querySelector('.mobile-menu-toggle');
        const mainNav = document.querySelector('.main-nav');

        if (!mobileToggle || !mainNav) {
            console.warn('Гамбургер или меню не найдены.');
            return;
        }

        mobileToggle.addEventListener('click', function () {
            const isExpanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !isExpanded);
            this.classList.toggle('open');
            mainNav.classList.toggle('show');
        });

        // Закрытие меню при клике вне его
        document.addEventListener('click', function (e) {
            if (!mobileToggle.contains(e.target) && !mainNav.contains(e.target)) {
                mobileToggle.setAttribute('aria-expanded', 'false');
                mobileToggle.classList.remove('open');
                mainNav.classList.remove('show');
            }
        });
    });
</script>
</body>
</html>